<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <title>vaadin-combo-box demo</title>

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../polymer/polymer.html">
  <link rel="import" href="../../paper-input/paper-input.html">
  <link rel="import" href="../vaadin-combo-box.html">

</head>

<body unresolved>


  <div style="width: 250px">


    <template is="dom-bind">
      <!-- 1. Which vaadin-grid properties should be included in cb api directly?-->
      <vaadin-combo-box items=[[fruits]] label="Fruit" selection-mode="multi"></vaadin-combo-box>

      <vaadin-combo-box items=[[managers]] label="Manager">
        <template>
          <span>[[item.firstname]]</span>&nbsp;
          <span>[[item.lastname]]</span>
        </template>
        <template>
          <img src$="[[item.thumbnail]]" style="width: 20px;">
        </template>

        <template class="selected-template">
          <span>[[item.lastname]]</span>
        </template>
      </vaadin-combo-box>

    </template>

  </div>

  <script>
    HTMLImports.whenReady(function() {
      var template = document.querySelector("template");

      var managers = [{
        "firstname": "raul",
        "lastname": "diez",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/men/39.jpg"
      }, {
        "firstname": "sonia",
        "lastname": "benitez",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/women/91.jpg"
      }, {
        "firstname": "luis",
        "lastname": "torres",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/men/11.jpg"
      }, ];

      template.managers = function(req) {
        var filtered = managers.filter(function(item) {
          return (item.firstname + item.lastname).toLowerCase().indexOf(req.filter.toLowerCase()) != -1;
        });
        // Developer needs to be careful here not to return the total length
        // of the results, but that of the _filtered results_
        req.success(filtered.slice(req.index, req.index + req.count), filtered.length);
      };

      template.fruits = ['Apple', 'Orange', 'Banana', 'Pear', 'Lemon'];





    });
  </script>

</body>

</html>
