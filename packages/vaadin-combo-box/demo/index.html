<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <title>vaadin-combo-box demo</title>

  <script src="../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../polymer/polymer.html">
  <link rel="import" href="../paper-input/paper-input.html">
  <link rel="import" href="../vaadin-combo-box.html">
  <link rel='import' href='vaadin-grid-tmp.html'>

</head>

<body unresolved>


  <div style="width: 250px">


    <template is="dom-bind">
      <!-- 1. Which vaadin-grid properties should be included in cb api directly?-->
      <vaadin-combo-box items=[[fruits]] label="Fruit" selection-mode="multi"></vaadin-combo-box>

      <!-- 2. A vaadin-grid placed inside the cb -->
      <vaadin-combo-box items=[[managers]] label="Manager">

        <vaadin-grid-tmp class="vaadin-combo-box-selector">
          <!-- 2.1. Templates for column renderers, to be added to vaadin-grid api -->
          <template>
            <span>[[item.firstname]]</span>&nbsp;
            <span>[[item.lastname]]</span>
          </template>
          <template>
            <img src$="[[item.thumbnail]]" style="width: 20px;">
          </template>
        </vaadin-grid-tmp>

        <!-- 2.2. Template for selected item, to be added to vaadin-combo-box api -->
        <template>
          <span>[[item.lastname]]</span>
        </template>

      </vaadin-combo-box>

      <!-- 3. Items defined declaratively -->
      <vaadin-combo-box label="Number">
        <vaadin-grid-tmp class="vaadin-combo-box-selector" selection-mode="multi" frozen-columns="1">
          <table>
            <colgroup>
              <col header-text="Name">
              <col header-text="Value">
              <col header-text="Progress">
            </colgroup>
            <tbody>
              <tr>
                <td>Project A</td><td>10000</td><td>0.8</td>
              </tr>
              <tr>
                <td>Project B</td><td>999999</td><td>0.8</td>
              </tr>
            </tbody>
          </table>
        </vaadin-grid-tmp>
      </vaadin-combo-box>

      <!-- 4. How about allowing a variety of selectables to be placed inside. Would this get too generic? -->
      <!-- 4.1. Iron-list as the selector -->
      <vaadin-combo-box label="Number">
        <iron-list items="[[data]]" as="item" class="vaadin-combo-box-selector">
          <template>
            <div>
              Name: <span>[[item.name]]</span>
            </div>
          </template>
        </iron-list>
      </vaadin-combo-box>

      <!-- 4.2. Iron-selector as the selector -->
      <vaadin-combo-box label="Number">
        <iron-selector selected="0" class="vaadin-combo-box-selector">
          <div>Item 1</div>
          <div>Item 2</div>
          <div>Item 3</div>
        </iron-selector>
      </vaadin-combo-box>
    </template>


  </div>

  <script>
    HTMLImports.whenReady(function() {
      var template = document.querySelector("template");

      var managers = [{
        "firstname": "raul",
        "lastname": "diez",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/men/39.jpg"
      }, {
        "firstname": "sonia",
        "lastname": "benitez",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/women/91.jpg"
      }, {
        "firstname": "luis",
        "lastname": "torres",
        "thumbnail": "http://api.randomuser.me/portraits/thumb/men/11.jpg"
      }, ];

      template.managers = function(req) {
        var filtered = managers.filter(function(item) {
          return (item.firstname + item.lastname).toLowerCase().indexOf(req.filter.toLowerCase()) != -1;
        });
        // Developer needs to be careful here not to return the total length
        // of the results, but that of the _filtered results_
        req.success(filtered.slice(req.index, req.index + req.count), filtered.length);
      };

      template.fruits = ['Apple', 'Orange', 'Banana', 'Pear', 'Lemon'];





    });
  </script>

</body>

</html>
